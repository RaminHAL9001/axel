(importm Axel (applyInfix def defmacro quasiquote))

(defmacro foo ([(AST.Symbol ann x)]
  (pure
   [`(def ~(AST.Symbol ann {x <> "1"}) (IO Unit)
       (() (pure unit)))
    `(def ~(AST.Symbol ann {x <> "2"}) (IO Unit)
       (() ~(AST.Symbol ann {x <> "1"})))
    `(def ~(AST.Symbol ann {x <> "3"}) (IO Unit)
       (() ~(AST.Symbol ann {x <> "2"})))])))